<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Knowledge Base</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            background: #eee;
        }

        .form-column label {
            font-weight: bold;
        }

        .form-container {
            display: flex;
            flex-direction: row;
        }

        .form-column select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
        }

        .form-column:last-child {
            margin-left: 10px;
        }

        .button-container {
            margin-left: 635px;
        }

        #pdf-container {
            display: none;
            margin-top: 20px;
        }

        #pdf-container embed {
            width: 100%;
            height: 800px;
        }

        #search-wrapper {
            display: flex;
            align-items: center; 
        }

        #start-button {
            margin-top: -60px;
            padding: 10px 20px;
            border-radius: 4px;
            background-color: #acacac67;
            transition: background-color 0.3s ease;
        }

        #start-button.ready {
            background-color: yellow;
        }
    </style>
</head>

<body>
    <div class="form-container">
        <div class="form-column">
            <label for="tool">Innova Products:</label>
            <select id="tool" onchange="checkSelection()">
                <option value="">Select a Tool</option>
                <option value="1000">1000</option>
                <option value="5010">5010</option>
                <option value="5110">5110</option>
                <option value="5210">5210</option>
                <option value="5310">5310</option>
                <option value="5410">5410</option>
                <option value="5510">5510</option>
                <option value="5512">5512</option>
                <option value="5610">5610</option>
            </select>
        </div>

        <div class="form-column">
            <label for="reason">Reason Category:</label>
            <select id="reason" onchange="checkSelection()">
                <option value="">Select a Reason</option>
                <option value="how-to-run-data-capture">How to run Data Capture</option>
                <option value="how-to-replace-batteries">How to replace batteries</option>
                <option value="how-to-change-tool-language">How to change tool language</option>
            </select>
        </div>
    </div>

    <div class="button-container">
        <div id="search-wrapper">
            <label for="search"></label>
            <button id="start-button" onclick="startSearch()" disabled>Search</button>
        </div>
    </div>

    <div id="pdf-container">
        <embed id="pdf-embed" src="" type="application/pdf" width="100%" height="800px" />
    </div>

    <script>
        function checkSelection() {
            var tool = document.getElementById("tool").value;
            var reason = document.getElementById("reason").value;
            var startButton = document.getElementById("start-button");

            if (tool && reason) {
                startButton.disabled = false;
                startButton.classList.add("ready"); // Add the 'ready' class to highlight the button
            } else {
                startButton.disabled = true;
                startButton.classList.remove("ready"); // Remove the 'ready' class to remove the highlight
            }
        }

        function startSearch() {
            var tool = document.getElementById("tool").value;
            var reason = document.getElementById("reason").value;

            var pdfUrl = getPDFUrl(tool, reason);
            if (pdfUrl) {
                window.open(pdfUrl, "_blank"); // Open the PDF URL in a new window or tab
                resetSelection(); // Reset the select elements 
            }
        }

        function resetSelection() {
            document.getElementById("tool").selectedIndex = 0; // Reset tool select element
            document.getElementById("reason").selectedIndex = 0; // Reset reason select element
            checkSelection(); // Update the search button state
        }

        function getPDFUrl(tool, reason) {
            // Customize this function to return the appropriate PDF URL based on the selected tool and reason
            var pdfFiles = {
                "5010": {
                    "how-to-run-data-capture": "./How to Report an Issue.pdf"
                },
                "5110": {
                    "how-to-replace-batteries": "./How to replace batteries.pdf"
                },
                "5210": {
                    "how-to-replace-batteries": "./How to replace batteries.pdf"
                }
                // Add more tool and reason mappings as needed
            };

            if (pdfFiles.hasOwnProperty(tool) && pdfFiles[tool].hasOwnProperty(reason)) {
                var filePath = pdfFiles[tool][reason];
                return filePath + '#page=1';
            } else {
                return null;
            }
        }
    </script>
</body>

</html>