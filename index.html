<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knowledge Base</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="contact.css">
</head>

<body>
    <div class="form-container">
        <div class="form-column">
            <label for="tool">Innova Products:</label>
            <select id="tool">
                <option value="">Select a Tool</option>
                <option value="1000">1000</option>
                <option value="5010">5010</option>
                <option value="5110">5110</option>
                <option value="5210">5210</option>
                <option value="5310">5310</option>
                <option value="5410">5410</option>
                <option value="5510">5510</option>
                <option value="5512">5512</option>
                <option value="5610">5610</option>
            </select>
        </div>

        <div class="form-column">
            <label for="reason">Reason Category:</label>
            <select id="reason" onchange="checkSelection()">
                <option value="">Select a Reason</option>
                <option value="how-to-run-data-capture">How to run Data Capture</option>
                <option value="how-to-replace-batteries">How to replace batteries</option>
                <option value="how-to-change-tool-language">How to change tool language</option>
            </select>
        </div>
    </div>

    <div class="button-container">
        <div id="search-wrapper">
            <label for="search"></label>
            <button id="start-button" onclick="startSearch()" disabled>Search</button>
        </div>
    </div>

    <div id="pdf-container">
        <embed id="pdf-embed" src="" type="application/pdf" width="100%" height="800px" />
    </div>

    <div class="float-container">
        <div class="container">
            <form onsubmit="sendEmail(); reset(); return false;">
                <h3>PDF UPDATE</h3>
                <input type="text" id="name" placeholder="Your Name" required/>
                <input type="email" id="email" placeholder="Email" required/>
                <textarea id="message" rows="3" placeholder="How can we help you?"></textarea>
                <button type="submit">Send</button>
            </form>
            
        </div>
    </div>

    <script>
        function checkSelection() {
            var tool = document.getElementById("tool").value;
            var reason = document.getElementById("reason").value;
            var startButton = document.getElementById("start-button");

            if (reason) {
                startButton.disabled = false;
                startButton.classList.add("ready"); // Add the 'ready' class to highlight the button
            } else {
                startButton.disabled = true;
                startButton.classList.remove("ready"); // Remove the 'ready' class to remove the highlight
            }
        }

        function startSearch() {
            var tool = document.getElementById("tool").value;
            var reason = document.getElementById("reason").value;

            var pdfUrl = getPDFUrl(tool, reason);
            if (pdfUrl) {
                window.open(pdfUrl, "_blank"); // Open the PDF URL in a new window or tab
                resetSelection(); // Reset the select elements 
            }
        }

        function resetSelection() {
            document.getElementById("reason").selectedIndex = 0; // Reset reason select element
            checkSelection(); // Update the search button state
        }

        function getPDFUrl(tool, reason) {
            // Customize this function to return the appropriate PDF URL based on the selected tool and reason
            var pdfFiles = {
                "5010": {
                    "how-to-run-data-capture": "./PDF-Files/5010/How to Report an Issue.pdf"
                },
                "5610": {
                    "how-to-replace-batteries": "./PDF-Files/5610/Innova 5610 How to Replace your Battery.pdf",
                    "how-to-run-data-capture": "./PDF-Files/5610/How to Report an Issue.pdf"
                }
               
                // Add more tool and reason mappings as needed
            };

            if (pdfFiles.hasOwnProperty(tool) && pdfFiles[tool].hasOwnProperty(reason)) {
                var filePath = pdfFiles[tool][reason];
                return filePath + '#page=1';
            } else {
                return null;
            }
        }
    </script>
    
</body>

</html>
